<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buyer Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./../../static/buyer/css/buyerdashboard.css"> 
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="icon" href="../../static/unisellers/googlelogos/play.png">
</head>
<body>
   {% if request.session.buyeremail %}
       {% include 'buyer/templates/Components/logout.html' %}
       <div class="dashboard-container">
        {% include 'buyer/templates/Components/Sidebar.html' %}

        <!-- Main Content Area -->
        <div class="main-content" >
            <header style="margin-bottom: 10px">
                <h1>Buyer Dashboard</h1>
            </header>
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="gigs-tab" data-bs-toggle="tab" href="#Gigs" role="tab" aria-controls="Gigs" aria-selected="true">Gigs Samples</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="messages-tab" data-bs-toggle="tab" href="#messages" role="tab" aria-controls="messages" aria-selected="false">Messages</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="activeprojectab" data-bs-toggle="tab" href="#activeProjects" role="tab" aria-controls="activeproject" aria-selected="false">ActiveProjects</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="requests-tab" data-bs-toggle="tab" href="#requests" role="tab" aria-controls="requests" aria-selected="false">Request From Sellers</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="addproject-tab" data-bs-toggle="tab" href="#addproject" role="tab" aria-controls="addproject" aria-selected="false">Add Project Form</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="owndata-tab" data-bs-toggle="tab" href="#owndata" role="tab" aria-controls="owndata" aria-selected="false">Own Data</a>
                </li>
            </ul>
            <div class="tab-content mt-3" id="myTabContent">
                <!-- Gigs Samples -->
                <div class="tab-pane fade show active" id="Gigs" role="tabpanel" aria-labelledby="gigs-tab">
                    {% include 'buyer/templates/Components/SellerProfiles.html' %}
                </div>
                <!-- Messages -->
                <div class="tab-pane fade" id="messages" role="tabpanel" aria-labelledby="messages-tab">
                    {% include 'buyer/templates/Components/message.html' %}
                </div>
                <div class="tab-pane fade" id="activeProjects" role="tabpanel" aria-labelledby="activeprojectab">
                    {% include 'buyer/templates/Components/ActiveProjects.html' %}
                </div>
                <!-- Active Projects -->
                <div class="tab-pane fade" id="requests" role="tabpanel" aria-labelledby="requests-tab">
                    {% include 'buyer/templates/Components/ViewRequest.html' %}
                </div>
                <!-- Add Project Form -->
                <div class="tab-pane fade" id="addproject" role="tabpanel" aria-labelledby="addproject-tab">
                    {% include 'buyer/templates/Components/AddProject.html' %}
                </div>
                <!-- Own Data -->
                <div class="tab-pane fade" id="owndata" role="tabpanel" aria-labelledby="owndata-tab">
                    {% include 'buyer/templates/Components/OwnData.html' %}
                </div>
            </div>
        </div>
    </div>
    {% else %}
       {% include 'Components/error.html' %}
   {% endif %}
<script>
    function sidebar_toggler(){
        var sidebar = document.getElementById('side-bar');
        sidebar.classList.toggle('show')
    }
    {#search bar for projects#}
  // Function to filter projects by name
document.getElementById('projectSearch').addEventListener('keyup', function () {
  let input = this.value.toLowerCase();
  let projectItems = document.querySelectorAll('#gigsdata .col-md-4');

  projectItems.forEach(function (item) {
    let projectNameElement = item.querySelector('.gig-description');
    if (projectNameElement) {
      let projectName = projectNameElement.textContent.toLowerCase();
      console.log('Project Name:', projectName);
      console.log('Input:', input);

      if (projectName.includes(input)) {
        console.log('Match found, displaying item');
        item.style.display = '';
      } else {
        console.log('No match, hiding item');
        item.style.display = 'none'; // Hide item if it doesn't match
      }
    } else {
      console.log('No project name found for item');
    }
  });
});


</script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js" crossorigin="anonymous"></script>
</body>
</html>
